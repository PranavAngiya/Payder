<!DOCTYPE html>
<html>
    <head>
        <meta charset="UTF-8">
        <meta name="viewport" content="width=device-width, initial-scale=1.0">
        <title> Account-Settings </title> 
        <link rel="stylesheet" href="../styles/settings.css">
    </head>
    <body>

        <div class="navBar">
            <div id="listing">
                <ul>
                    <button id="homepage">Portfolio</button>
                    <button id="settings">Account-Settings</button>
                    <button id="history">History</button>
                    <button id="logout">Sign-Out</button>
                    Hello: 
                    <span id="username">Unauthorized User</span>
                </ul>
            </div>      
        </div>


        <script type="module">
            import { getUsernameFromToken } from "../scripts/utils/authCheck.js";
    
            // Display the username
            document.addEventListener("DOMContentLoaded", () => {
                const username = getUsernameFromToken();
                if (username) {
                    document.getElementById("username").textContent = username;
                }
            });
    
            // Re-enter home page
            document.getElementById("homepage").addEventListener("click", function() {
                window.location.href = "userHome.html";
            });
    
            // Enter into settings
            document.getElementById("settings").addEventListener("click", function() {
                window.location.href = "settings.html";
            });
    
            // Enter into settings
            document.getElementById("history").addEventListener("click", function() {
                window.location.href = "history.html";
            });
    
            // Logout function
            document.getElementById("logout").addEventListener("click", function() {
                localStorage.removeItem("authToken");
                window.location.href = "login.html";
            });
    
    
        </script>

    </body>

    <br>
    <br>
    <br>

    <body>
        <div class="container">
            <h3>Finance</h3>
            <button onclick="window.location.href='financial.html'">Configure Financial Settings</button>
            <br>
            <h3>Account</h3>
            <button onclick="window.location.href='updateAccount.html'">Update Account</button>
            <br>
            <h3>Authentication</h3>
            <button onclick="window.location.href='twoFactor.html'">Update Account</button>
        </div>
    </body>


</html>